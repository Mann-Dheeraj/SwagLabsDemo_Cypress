name: Run Cypress tests in Dockers

on: 
  push: 
    branches:
      - main
  pull_request:

jobs:
  cypress-tests:
  runs-on: ubuntu-latest

  steps:
    - name: Checkout Code
      uses: actions/checkout@v3

    -  name: Set up Docker Buildx
       uses: docker/setup-buildx-action@v2

    - name: Build Docker Image
      run:  docker build -t cypress-hello-world

    - name: Run Cypress Tests Inside Container
      run: docker run --rm cypress-hello-world
       
